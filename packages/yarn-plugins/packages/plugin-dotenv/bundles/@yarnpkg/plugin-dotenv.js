/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-dotenv",
factory: function (require) {
"use strict";var plugin=(()=>{var M=Object.create;var h=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var P=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty;var u=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof require<"u"?require:r)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var v=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),H=(e,r)=>{for(var t in r)h(e,t,{get:r[t],enumerable:!0})},O=(e,r,t,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of C(r))!B.call(e,o)&&o!==t&&h(e,o,{get:()=>r[o],enumerable:!(s=q(r,o))||s.enumerable});return e};var V=(e,r,t)=>(t=e!=null?M(P(e)):{},O(r||!e||!e.__esModule?h(t,"default",{value:e,enumerable:!0}):t,e)),G=e=>O(h({},"__esModule",{value:!0}),e);var w=v((Ve,W)=>{W.exports={name:"dotenv",version:"16.4.2",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var A=v((we,f)=>{var E=u("fs"),_=u("path"),J=u("os"),Q=u("crypto"),z=w(),D=z.version,X=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function Z(e){let r={},t=e.toString();t=t.replace(/\r\n?/mg,`
`);let s;for(;(s=X.exec(t))!=null;){let o=s[1],n=s[2]||"";n=n.trim();let a=n[0];n=n.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),a==='"'&&(n=n.replace(/\\n/g,`
`),n=n.replace(/\\r/g,"\r")),r[o]=n}return r}function ee(e){let r=I(e),t=c.configDotenv({path:r});if(!t.parsed){let a=new Error(`MISSING_DATA: Cannot parse ${r} for an unknown reason`);throw a.code="MISSING_DATA",a}let s=T(e).split(","),o=s.length,n;for(let a=0;a<o;a++)try{let i=s[a].trim(),l=ne(t,i);n=c.decrypt(l.ciphertext,l.key);break}catch(i){if(a+1>=o)throw i}return c.parse(n)}function re(e){console.log(`[dotenv@${D}][INFO] ${e}`)}function te(e){console.log(`[dotenv@${D}][WARN] ${e}`)}function m(e){console.log(`[dotenv@${D}][DEBUG] ${e}`)}function T(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function ne(e,r){let t;try{t=new URL(r)}catch(i){if(i.code==="ERR_INVALID_URL"){let l=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw l.code="INVALID_DOTENV_KEY",l}throw i}let s=t.password;if(!s){let i=new Error("INVALID_DOTENV_KEY: Missing key part");throw i.code="INVALID_DOTENV_KEY",i}let o=t.searchParams.get("environment");if(!o){let i=new Error("INVALID_DOTENV_KEY: Missing environment part");throw i.code="INVALID_DOTENV_KEY",i}let n=`DOTENV_VAULT_${o.toUpperCase()}`,a=e.parsed[n];if(!a){let i=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${n} in your .env.vault file.`);throw i.code="NOT_FOUND_DOTENV_ENVIRONMENT",i}return{ciphertext:a,key:s}}function I(e){let r=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let t of e.path)E.existsSync(t)&&(r=t.endsWith(".vault")?t:`${t}.vault`);else r=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else r=_.resolve(process.cwd(),".env.vault");return E.existsSync(r)?r:null}function oe(e){return e[0]==="~"?_.join(J.homedir(),e.slice(1)):e}function se(e){re("Loading env from encrypted .env.vault");let r=c._parseVault(e),t=process.env;return e&&e.processEnv!=null&&(t=e.processEnv),c.populate(t,r,e),{parsed:r}}function ae(e){let r=_.resolve(process.cwd(),".env"),t="utf8",s=Boolean(e&&e.debug);if(e){if(e.path!=null){let o=e.path;if(Array.isArray(o)){for(let n of e.path)if(E.existsSync(n)){o=n;break}}r=oe(o)}e.encoding!=null?t=e.encoding:s&&m("No encoding is specified. UTF-8 is used by default")}try{let o=c.parse(E.readFileSync(r,{encoding:t})),n=process.env;return e&&e.processEnv!=null&&(n=e.processEnv),c.populate(n,o,e),{parsed:o}}catch(o){return s&&m(`Failed to load ${r} ${o.message}`),{error:o}}}function ie(e){if(T(e).length===0)return c.configDotenv(e);let r=I(e);return r?c._configVault(e):(te(`You set DOTENV_KEY but you are missing a .env.vault file at ${r}. Did you forget to build it?`),c.configDotenv(e))}function ce(e,r){let t=Buffer.from(r.slice(-64),"hex"),s=Buffer.from(e,"base64"),o=s.subarray(0,12),n=s.subarray(-16);s=s.subarray(12,-16);try{let a=Q.createDecipheriv("aes-256-gcm",t,o);return a.setAuthTag(n),`${a.update(s)}${a.final()}`}catch(a){let i=a instanceof RangeError,l=a.message==="Invalid key length",g=a.message==="Unsupported state or unable to authenticate data";if(i||l){let d=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw d.code="INVALID_DOTENV_KEY",d}else if(g){let d=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw d.code="DECRYPTION_FAILED",d}else throw a}}function le(e,r,t={}){let s=Boolean(t&&t.debug),o=Boolean(t&&t.override);if(typeof r!="object"){let n=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw n.code="OBJECT_REQUIRED",n}for(let n of Object.keys(r))Object.prototype.hasOwnProperty.call(e,n)?(o===!0&&(e[n]=r[n]),s&&m(o===!0?`"${n}" is already defined and WAS overwritten`:`"${n}" is already defined and was NOT overwritten`)):e[n]=r[n]}var c={configDotenv:ae,_configVault:se,_parseVault:ee,config:ie,decrypt:ce,parse:Z,populate:le};f.exports.configDotenv=c.configDotenv;f.exports._configVault=c._configVault;f.exports._parseVault=c._parseVault;f.exports.config=c.config;f.exports.decrypt=c.decrypt;f.exports.parse=c.parse;f.exports.populate=c.populate;f.exports=c});var x=v((Te,k)=>{"use strict";var j=u("os");function ue(){var e=process.env,r=e.HOME,t=e.LOGNAME||e.USER||e.LNAME||e.USERNAME;return process.platform==="win32"?e.USERPROFILE||e.HOMEDRIVE+e.HOMEPATH||r||null:process.platform==="darwin"?r||(t?"/Users/"+t:null):process.platform==="linux"?r||(process.getuid()===0?"/root":t?"/home/"+t:null):r||null}k.exports=typeof j.homedir=="function"?j.homedir:ue});var L=v((Ie,R)=>{"use strict";R.exports=x()()});var Y=v((Ae,p)=>{"use strict";var $=u("fs"),N=u("path"),fe=L(),de=$.readFileSync,ve=$.statSync,y=N.join,pe=N.resolve,ge=".config",he="utf8",Ee=/^\./,S=N.sep;function me(e,r,t){r=y(e,r);var s=y(r,t),o=ve(s);return o&&{cwd:e,dir:r,path:s}}function ye(e,r,t){r=y(e,r);var s=y(r,t),o=u.resolve(s);return o&&{cwd:e,dir:r,path:o}}function b(e,r){var t=K(e,r);return t&&t.path}function K(e,r){if(!e)return null;r=r||{};var t,s=r.dir!==null&&r.dir!==void 0?r.dir:ge,o=r.dot?e:e.replace(Ee,""),n=r.module?ye:me,a=pe(r.cwd||".").split(S),i=a.length;function l(g){try{return n(g,"",e)}catch{}try{return n(g,s,o)}catch{}}for(;i--;){if(t=l(a.join(S)),t)return t;a.pop()}return(r.home||r.home===null||r.home===void 0)&&(t=l(fe),t)?t:null}function _e(e,r){if(!e)return null;r=r||{};var t=b(e,r);return t&&de(t,{encoding:r.encoding||he,flag:r.flag})}function De(e,r){if(!e)return null;r=r||{},r.module=!0;var t=b(e,r);return t&&u(t)}p.exports=b;p.exports.obj=K;p.exports.read=_e;p.exports.require=De});var be={};H(be,{hooks:()=>Ne});var U=V(A(),1),F=V(Y(),1),Ne={async setupScriptEnvironment(e,r){let t=(0,U.config)({path:(0,F.default)(".env")??void 0});Object.assign(r,t.parsed)}};return G(be);})();
return plugin;
}
};
