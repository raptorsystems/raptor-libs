/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-dotenv",
factory: function (require) {
"use strict";var plugin=(()=>{var P=Object.create;var E=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var B=Object.getPrototypeOf,H=Object.prototype.hasOwnProperty;var u=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof require<"u"?require:r)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var p=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),G=(e,r)=>{for(var t in r)E(e,t,{get:r[t],enumerable:!0})},O=(e,r,t,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of C(r))!H.call(e,o)&&o!==t&&E(e,o,{get:()=>r[o],enumerable:!(s=q(r,o))||s.enumerable});return e};var T=(e,r,t)=>(t=e!=null?P(B(e)):{},O(r||!e||!e.__esModule?E(t,"default",{value:e,enumerable:!0}):t,e)),W=e=>O(E({},"__esModule",{value:!0}),e);var V=p((Te,J)=>{J.exports={name:"dotenv",version:"16.4.4",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec","test:coverage":"tap --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var j=p((Ve,f)=>{var h=u("fs"),_=u("path"),Q=u("os"),z=u("crypto"),X=V(),D=X.version,Z=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function ee(e){let r={},t=e.toString();t=t.replace(/\r\n?/mg,`
`);let s;for(;(s=Z.exec(t))!=null;){let o=s[1],n=s[2]||"";n=n.trim();let a=n[0];n=n.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),a==='"'&&(n=n.replace(/\\n/g,`
`),n=n.replace(/\\r/g,"\r")),r[o]=n}return r}function re(e){let r=A(e),t=c.configDotenv({path:r});if(!t.parsed){let a=new Error(`MISSING_DATA: Cannot parse ${r} for an unknown reason`);throw a.code="MISSING_DATA",a}let s=I(e).split(","),o=s.length,n;for(let a=0;a<o;a++)try{let i=s[a].trim(),l=oe(t,i);n=c.decrypt(l.ciphertext,l.key);break}catch(i){if(a+1>=o)throw i}return c.parse(n)}function te(e){console.log(`[dotenv@${D}][INFO] ${e}`)}function ne(e){console.log(`[dotenv@${D}][WARN] ${e}`)}function m(e){console.log(`[dotenv@${D}][DEBUG] ${e}`)}function I(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function oe(e,r){let t;try{t=new URL(r)}catch(i){if(i.code==="ERR_INVALID_URL"){let l=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw l.code="INVALID_DOTENV_KEY",l}throw i}let s=t.password;if(!s){let i=new Error("INVALID_DOTENV_KEY: Missing key part");throw i.code="INVALID_DOTENV_KEY",i}let o=t.searchParams.get("environment");if(!o){let i=new Error("INVALID_DOTENV_KEY: Missing environment part");throw i.code="INVALID_DOTENV_KEY",i}let n=`DOTENV_VAULT_${o.toUpperCase()}`,a=e.parsed[n];if(!a){let i=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${n} in your .env.vault file.`);throw i.code="NOT_FOUND_DOTENV_ENVIRONMENT",i}return{ciphertext:a,key:s}}function A(e){let r=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let t of e.path)h.existsSync(t)&&(r=t.endsWith(".vault")?t:`${t}.vault`);else r=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else r=_.resolve(process.cwd(),".env.vault");return h.existsSync(r)?r:null}function w(e){return e[0]==="~"?_.join(Q.homedir(),e.slice(1)):e}function se(e){te("Loading env from encrypted .env.vault");let r=c._parseVault(e),t=process.env;return e&&e.processEnv!=null&&(t=e.processEnv),c.populate(t,r,e),{parsed:r}}function ae(e){let r=_.resolve(process.cwd(),".env"),t="utf8",s=Boolean(e&&e.debug);e&&e.encoding?t=e.encoding:s&&m("No encoding is specified. UTF-8 is used by default");let o=[];if(e&&e.path){if(!Array.isArray(e.path))h.existsSync(e.path)&&(o=[w(e.path)]);else for(let i of e.path)h.existsSync(i)&&o.push(w(i));o.length||(o=[r])}let n=o.length?o:[r],a={};try{for(let l of n){let v=c.parse(h.readFileSync(l,{encoding:t}));c.populate(a,v,e)}let i=process.env;e&&e.processEnv!=null&&(i=e.processEnv),c.populate(i,a,e)}catch(i){return s&&m(`Failed to load ${n} ${i.message}`),{error:i}}return{parsed:a}}function ie(e){if(I(e).length===0)return c.configDotenv(e);let r=A(e);return r?c._configVault(e):(ne(`You set DOTENV_KEY but you are missing a .env.vault file at ${r}. Did you forget to build it?`),c.configDotenv(e))}function ce(e,r){let t=Buffer.from(r.slice(-64),"hex"),s=Buffer.from(e,"base64"),o=s.subarray(0,12),n=s.subarray(-16);s=s.subarray(12,-16);try{let a=z.createDecipheriv("aes-256-gcm",t,o);return a.setAuthTag(n),`${a.update(s)}${a.final()}`}catch(a){let i=a instanceof RangeError,l=a.message==="Invalid key length",v=a.message==="Unsupported state or unable to authenticate data";if(i||l){let d=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw d.code="INVALID_DOTENV_KEY",d}else if(v){let d=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw d.code="DECRYPTION_FAILED",d}else throw a}}function le(e,r,t={}){let s=Boolean(t&&t.debug),o=Boolean(t&&t.override);if(typeof r!="object"){let n=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw n.code="OBJECT_REQUIRED",n}for(let n of Object.keys(r))Object.prototype.hasOwnProperty.call(e,n)?(o===!0&&(e[n]=r[n]),s&&m(o===!0?`"${n}" is already defined and WAS overwritten`:`"${n}" is already defined and was NOT overwritten`)):e[n]=r[n]}var c={configDotenv:ae,_configVault:se,_parseVault:re,config:ie,decrypt:ce,parse:ee,populate:le};f.exports.configDotenv=c.configDotenv;f.exports._configVault=c._configVault;f.exports._parseVault=c._parseVault;f.exports.config=c.config;f.exports.decrypt=c.decrypt;f.exports.parse=c.parse;f.exports.populate=c.populate;f.exports=c});var R=p((we,k)=>{"use strict";var x=u("os");function ue(){var e=process.env,r=e.HOME,t=e.LOGNAME||e.USER||e.LNAME||e.USERNAME;return process.platform==="win32"?e.USERPROFILE||e.HOMEDRIVE+e.HOMEPATH||r||null:process.platform==="darwin"?r||(t?"/Users/"+t:null):process.platform==="linux"?r||(process.getuid()===0?"/root":t?"/home/"+t:null):r||null}k.exports=typeof x.homedir=="function"?x.homedir:ue});var S=p((Ie,L)=>{"use strict";L.exports=R()()});var F=p((Ae,g)=>{"use strict";var K=u("fs"),N=u("path"),fe=S(),de=K.readFileSync,ve=K.statSync,y=N.join,pe=N.resolve,he=".config",ge="utf8",Ee=/^\./,$=N.sep;function me(e,r,t){r=y(e,r);var s=y(r,t),o=ve(s);return o&&{cwd:e,dir:r,path:s}}function ye(e,r,t){r=y(e,r);var s=y(r,t),o=u.resolve(s);return o&&{cwd:e,dir:r,path:o}}function b(e,r){var t=Y(e,r);return t&&t.path}function Y(e,r){if(!e)return null;r=r||{};var t,s=r.dir!==null&&r.dir!==void 0?r.dir:he,o=r.dot?e:e.replace(Ee,""),n=r.module?ye:me,a=pe(r.cwd||".").split($),i=a.length;function l(v){try{return n(v,"",e)}catch{}try{return n(v,s,o)}catch{}}for(;i--;){if(t=l(a.join($)),t)return t;a.pop()}return(r.home||r.home===null||r.home===void 0)&&(t=l(fe),t)?t:null}function _e(e,r){if(!e)return null;r=r||{};var t=b(e,r);return t&&de(t,{encoding:r.encoding||ge,flag:r.flag})}function De(e,r){if(!e)return null;r=r||{},r.module=!0;var t=b(e,r);return t&&u(t)}g.exports=b;g.exports.obj=Y;g.exports.read=_e;g.exports.require=De});var be={};G(be,{hooks:()=>Ne});var U=T(j(),1),M=T(F(),1),Ne={async setupScriptEnvironment(e,r){let t=(0,U.config)({path:(0,M.default)(".env")??void 0});Object.assign(r,t.parsed)}};return W(be);})();
return plugin;
}
};
