/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-dotenv",
factory: function (require) {
"use strict";var plugin=(()=>{var q=Object.create;var g=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var B=Object.getPrototypeOf,H=Object.prototype.hasOwnProperty;var u=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof require<"u"?require:r)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var p=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),G=(e,r)=>{for(var t in r)g(e,t,{get:r[t],enumerable:!0})},O=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of P(r))!H.call(e,s)&&s!==t&&g(e,s,{get:()=>r[s],enumerable:!(o=C(r,s))||o.enumerable});return e};var V=(e,r,t)=>(t=e!=null?q(B(e)):{},O(r||!e||!e.__esModule?g(t,"default",{value:e,enumerable:!0}):t,e)),W=e=>O(g({},"__esModule",{value:!0}),e);var w=p((Ve,J)=>{J.exports={name:"dotenv",version:"16.4.5",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec","test:coverage":"tap --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var j=p((we,d)=>{var y=u("fs"),_=u("path"),Q=u("os"),z=u("crypto"),X=w(),D=X.version,Z=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function ee(e){let r={},t=e.toString();t=t.replace(/\r\n?/mg,`
`);let o;for(;(o=Z.exec(t))!=null;){let s=o[1],n=o[2]||"";n=n.trim();let a=n[0];n=n.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),a==='"'&&(n=n.replace(/\\n/g,`
`),n=n.replace(/\\r/g,"\r")),r[s]=n}return r}function re(e){let r=A(e),t=c.configDotenv({path:r});if(!t.parsed){let a=new Error(`MISSING_DATA: Cannot parse ${r} for an unknown reason`);throw a.code="MISSING_DATA",a}let o=I(e).split(","),s=o.length,n;for(let a=0;a<s;a++)try{let i=o[a].trim(),l=oe(t,i);n=c.decrypt(l.ciphertext,l.key);break}catch(i){if(a+1>=s)throw i}return c.parse(n)}function te(e){console.log(`[dotenv@${D}][INFO] ${e}`)}function ne(e){console.log(`[dotenv@${D}][WARN] ${e}`)}function E(e){console.log(`[dotenv@${D}][DEBUG] ${e}`)}function I(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function oe(e,r){let t;try{t=new URL(r)}catch(i){if(i.code==="ERR_INVALID_URL"){let l=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw l.code="INVALID_DOTENV_KEY",l}throw i}let o=t.password;if(!o){let i=new Error("INVALID_DOTENV_KEY: Missing key part");throw i.code="INVALID_DOTENV_KEY",i}let s=t.searchParams.get("environment");if(!s){let i=new Error("INVALID_DOTENV_KEY: Missing environment part");throw i.code="INVALID_DOTENV_KEY",i}let n=`DOTENV_VAULT_${s.toUpperCase()}`,a=e.parsed[n];if(!a){let i=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${n} in your .env.vault file.`);throw i.code="NOT_FOUND_DOTENV_ENVIRONMENT",i}return{ciphertext:a,key:o}}function A(e){let r=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let t of e.path)y.existsSync(t)&&(r=t.endsWith(".vault")?t:`${t}.vault`);else r=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else r=_.resolve(process.cwd(),".env.vault");return y.existsSync(r)?r:null}function T(e){return e[0]==="~"?_.join(Q.homedir(),e.slice(1)):e}function se(e){te("Loading env from encrypted .env.vault");let r=c._parseVault(e),t=process.env;return e&&e.processEnv!=null&&(t=e.processEnv),c.populate(t,r,e),{parsed:r}}function ae(e){let r=_.resolve(process.cwd(),".env"),t="utf8",o=Boolean(e&&e.debug);e&&e.encoding?t=e.encoding:o&&E("No encoding is specified. UTF-8 is used by default");let s=[r];if(e&&e.path)if(!Array.isArray(e.path))s=[T(e.path)];else{s=[];for(let l of e.path)s.push(T(l))}let n,a={};for(let l of s)try{let f=c.parse(y.readFileSync(l,{encoding:t}));c.populate(a,f,e)}catch(f){o&&E(`Failed to load ${l} ${f.message}`),n=f}let i=process.env;return e&&e.processEnv!=null&&(i=e.processEnv),c.populate(i,a,e),n?{parsed:a,error:n}:{parsed:a}}function ie(e){if(I(e).length===0)return c.configDotenv(e);let r=A(e);return r?c._configVault(e):(ne(`You set DOTENV_KEY but you are missing a .env.vault file at ${r}. Did you forget to build it?`),c.configDotenv(e))}function ce(e,r){let t=Buffer.from(r.slice(-64),"hex"),o=Buffer.from(e,"base64"),s=o.subarray(0,12),n=o.subarray(-16);o=o.subarray(12,-16);try{let a=z.createDecipheriv("aes-256-gcm",t,s);return a.setAuthTag(n),`${a.update(o)}${a.final()}`}catch(a){let i=a instanceof RangeError,l=a.message==="Invalid key length",f=a.message==="Unsupported state or unable to authenticate data";if(i||l){let v=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw v.code="INVALID_DOTENV_KEY",v}else if(f){let v=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw v.code="DECRYPTION_FAILED",v}else throw a}}function le(e,r,t={}){let o=Boolean(t&&t.debug),s=Boolean(t&&t.override);if(typeof r!="object"){let n=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw n.code="OBJECT_REQUIRED",n}for(let n of Object.keys(r))Object.prototype.hasOwnProperty.call(e,n)?(s===!0&&(e[n]=r[n]),o&&E(s===!0?`"${n}" is already defined and WAS overwritten`:`"${n}" is already defined and was NOT overwritten`)):e[n]=r[n]}var c={configDotenv:ae,_configVault:se,_parseVault:re,config:ie,decrypt:ce,parse:ee,populate:le};d.exports.configDotenv=c.configDotenv;d.exports._configVault=c._configVault;d.exports._parseVault=c._parseVault;d.exports.config=c.config;d.exports.decrypt=c.decrypt;d.exports.parse=c.parse;d.exports.populate=c.populate;d.exports=c});var x=p((Te,R)=>{"use strict";var k=u("os");function ue(){var e=process.env,r=e.HOME,t=e.LOGNAME||e.USER||e.LNAME||e.USERNAME;return process.platform==="win32"?e.USERPROFILE||e.HOMEDRIVE+e.HOMEPATH||r||null:process.platform==="darwin"?r||(t?"/Users/"+t:null):process.platform==="linux"?r||(process.getuid()===0?"/root":t?"/home/"+t:null):r||null}R.exports=typeof k.homedir=="function"?k.homedir:ue});var $=p((Ie,L)=>{"use strict";L.exports=x()()});var U=p((Ae,h)=>{"use strict";var K=u("fs"),N=u("path"),fe=$(),de=K.readFileSync,ve=K.statSync,m=N.join,pe=N.resolve,he=".config",ge="utf8",Ee=/^\./,S=N.sep;function me(e,r,t){r=m(e,r);var o=m(r,t),s=ve(o);return s&&{cwd:e,dir:r,path:o}}function ye(e,r,t){r=m(e,r);var o=m(r,t),s=u.resolve(o);return s&&{cwd:e,dir:r,path:s}}function b(e,r){var t=Y(e,r);return t&&t.path}function Y(e,r){if(!e)return null;r=r||{};var t,o=r.dir!==null&&r.dir!==void 0?r.dir:he,s=r.dot?e:e.replace(Ee,""),n=r.module?ye:me,a=pe(r.cwd||".").split(S),i=a.length;function l(f){try{return n(f,"",e)}catch{}try{return n(f,o,s)}catch{}}for(;i--;){if(t=l(a.join(S)),t)return t;a.pop()}return(r.home||r.home===null||r.home===void 0)&&(t=l(fe),t)?t:null}function _e(e,r){if(!e)return null;r=r||{};var t=b(e,r);return t&&de(t,{encoding:r.encoding||ge,flag:r.flag})}function De(e,r){if(!e)return null;r=r||{},r.module=!0;var t=b(e,r);return t&&u(t)}h.exports=b;h.exports.obj=Y;h.exports.read=_e;h.exports.require=De});var be={};G(be,{hooks:()=>Ne});var F=V(j(),1),M=V(U(),1),Ne={async setupScriptEnvironment(e,r){let t=(0,F.config)({path:(0,M.default)(".env")??void 0});Object.assign(r,t.parsed)}};return W(be);})();
return plugin;
}
};
